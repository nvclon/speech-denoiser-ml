defaults:
  - dataset: dataset
  - audio: audio
  - model: demucs
  - trainer: trainer
  - server: triton
  - mlflow: tracking
  - _self_

seed: 42
project_name: "Speech Denoiser"

# DVC store bootstrap (archive-based sharing)
dvc:
  # Public link to `dvcstore.tar.gz` (Google Drive link is OK).
  # Used by `poetry run speech-denoiser download_models` when no URL is provided.
  store_url: "https://drive.google.com/file/d/1QpQC5nR7iX2suPYOcvVYGBY0Ynku_czh/view?usp=sharing"

  # Where the extracted `dvcstore/` folder should live, relative to repo root.
  store_dir: "../dvcstore"

  # DVC remote name configured in this repo.
  remote_name: "local_data"

paths:
  artifacts_dir: "artifacts"
  checkpoints_dir: "${paths.artifacts_dir}/checkpoints"
  onnx_dir: "${paths.artifacts_dir}/onnx"
  predictions_dir: "${paths.artifacts_dir}/predictions"
  plots_dir: "plots/${model.model_name}"
  triton_repo_dir: "triton/${model.model_name}"

infer:
  ckpt_path: "${paths.artifacts_dir}/checkpoints/latest_${model.model_name}.ckpt"
  input_wav: null
  output_dir: "${paths.predictions_dir}"

eval:
  ckpt_path: "${paths.artifacts_dir}/checkpoints/latest_${model.model_name}.ckpt"
  save_wavs: false
  output_dir: "${paths.predictions_dir}/test"
  metrics_csv: "${paths.plots_dir}/test_metrics.csv"

export:
  ckpt_path: "${paths.artifacts_dir}/checkpoints/latest_${model.model_name}.ckpt"
  opset: 18
