defaults:
  - dataset: dataset
  - audio: audio
  - model: demucs
  - trainer: trainer
  - server: triton
  - mlflow: tracking
  - dvc: dvc_cfg
  - _self_

seed: 42
project_name: "Speech Denoiser"

paths:
  artifacts_dir: "artifacts"
  checkpoints_dir: "${paths.artifacts_dir}/checkpoints"
  onnx_dir: "${paths.artifacts_dir}/onnx"
  predictions_dir: "${paths.artifacts_dir}/predictions"
  plots_dir: "plots/${model.model_name}"
  triton_repo_dir: "triton/${model.model_name}"

infer:
  ckpt_path: "${paths.artifacts_dir}/checkpoints/latest_${model.model_name}.ckpt"
  input_wav: null
  output_dir: "${paths.predictions_dir}"

eval:
  ckpt_path: "${paths.artifacts_dir}/checkpoints/latest_${model.model_name}.ckpt"
  save_wavs: false
  output_dir: "${paths.predictions_dir}/test"
  metrics_csv: "${paths.plots_dir}/test_metrics.csv"

export:
  ckpt_path: "${paths.artifacts_dir}/checkpoints/latest_${model.model_name}.ckpt"
  opset: 18
